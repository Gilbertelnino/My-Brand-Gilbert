{"version":3,"sources":["../../../server/tests/user/signup.spec.js"],"names":["expect","chai","use","chaiHttp","signup","User","deleteMany","it","done","request","server","post","send","userValue","missingSignupField","end","err","res","to","be","have","status","allowedSignup","body","property"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEQA,M,GAAWC,gB,CAAXD,M;;AACRC,iBAAKC,GAAL,CAASC,oBAAT;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,+FAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHC,iBAAKC,UAAL,CAAgB,EAAhB,CADG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAX;AAGA,8FAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACFD,iBAAKC,UAAL,CAAgB,EAAhB,CADE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;AAGAC,EAAAA,EAAE,CAAC,qDAAD,EAAwD,UAACC,IAAD,EAAU;AAClEP,qBACGQ,OADH,CACWC,iBADX,EAEGC,IAFH,CAEQ,aAFR,EAGGC,IAHH,CAGQC,qBAAUC,kBAHlB,EAIGC,GAJH,CAIO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjBjB,MAAAA,MAAM,CAACgB,GAAD,CAAN,CAAYE,EAAZ,CAAeC,EAAf;AACAnB,MAAAA,MAAM,CAACiB,GAAD,CAAN,CAAYC,EAAZ,CAAeE,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACAb,MAAAA,IAAI;AACL,KARH;AASD,GAVC,CAAF,CAPmB,CAkBnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAD,EAAAA,EAAE,CAAC,iEAAD,EAAoE,UAACC,IAAD,EAAU;AAC9EP,qBACGQ,OADH,CACWC,iBADX,EAEGC,IAFH,CAEQ,aAFR,EAGGC,IAHH,CAGQC,qBAAUS,aAHlB,EAIGP,GAJH,CAIO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjBjB,MAAAA,MAAM,CAACgB,GAAD,CAAN,CAAYE,EAAZ,CAAeC,EAAf;AACAnB,MAAAA,MAAM,CAACiB,GAAD,CAAN,CAAYC,EAAZ,CAAeE,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACArB,MAAAA,MAAM,CAACiB,GAAG,CAACM,IAAL,CAAN,CAAiBL,EAAjB,CAAoBE,IAApB,CAAyBI,QAAzB,CACE,SADF,EAEE,2BAFF;AAIAhB,MAAAA,IAAI;AACL,KAZH;AAaD,GAdC,CAAF;AAeD,CA7CD;;eA+CeJ,M","sourcesContent":["import chai from \"chai\";\r\nimport chaiHttp from \"chai-http\";\r\nimport { afterEach, beforeEach } from \"mocha\";\r\nimport server from \"../../index\";\r\nimport userValue from \"../asset/userData\";\r\nimport User from \"../../models/User\";\r\n\r\nconst { expect } = chai;\r\nchai.use(chaiHttp);\r\n\r\nconst signup = () => {\r\n  beforeEach(async () => {\r\n    await User.deleteMany({});\r\n  });\r\n  afterEach(async () => {\r\n    await User.deleteMany({});\r\n  });\r\n  it(\"Should not create account if there is missing field\", (done) => {\r\n    chai\r\n      .request(server)\r\n      .post(\"/api/signup\")\r\n      .send(userValue.missingSignupField)\r\n      .end((err, res) => {\r\n        expect(err).to.be.null;\r\n        expect(res).to.have.status(400);\r\n        done();\r\n      });\r\n  });\r\n  // it(\"User should not be able to create account if email already registered\", (done) => {\r\n  //   chai\r\n  //     .request(server)\r\n  //     .post(\"/api/signup\")\r\n  //     .send(userValue.allowedSignup)\r\n  //     .end((err, res) => {\r\n  //       expect(err).to.be.null;\r\n  //       expect(res).to.have.status(400);\r\n  //       expect(res.body).to.have.property(\"error\", \"Email already exist\");\r\n  //       done();\r\n  //     });\r\n  // });\r\n  it(\"User should be able to create account if he provide proper info\", (done) => {\r\n    chai\r\n      .request(server)\r\n      .post(\"/api/signup\")\r\n      .send(userValue.allowedSignup)\r\n      .end((err, res) => {\r\n        expect(err).to.be.null;\r\n        expect(res).to.have.status(201);\r\n        expect(res.body).to.have.property(\r\n          \"message\",\r\n          \"Admin Signup successfully\"\r\n        );\r\n        done();\r\n      });\r\n  });\r\n};\r\n\r\nexport default signup;\r\n"],"file":"signup.spec.js"}