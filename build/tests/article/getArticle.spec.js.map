{"version":3,"sources":["../../../server/tests/article/getArticle.spec.js"],"names":["expect","chai","use","chaiHttp","getArticles","Article","deleteMany","it","done","collection","insertMany","title","subtitle","image","content","author","request","server","get","end","err","res","to","be","have","status","body","property"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEQA,M,GAAWC,gB,CAAXD,M;;AACRC,iBAAKC,GAAL,CAASC,oBAAT;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,+FAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHC,oBAAQC,UAAR,CAAmB,EAAnB,CADG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAX;AAGA,8FAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACFD,oBAAQC,UAAR,CAAmB,EAAnB,CADE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;AAGAC,EAAAA,EAAE,CAAC,2DAAD,EAA8D,UAACC,IAAD,EAAU;AACxEH,wBAAQI,UAAR,CAAmBC,UAAnB,CAA8B,CAC5B;AACEC,MAAAA,KAAK,EAAE,aADT;AAEEC,MAAAA,QAAQ,EAAE,qBAFZ;AAGEC,MAAAA,KAAK,EAAE,uBAHT;AAIEC,MAAAA,OAAO,EAAE,yCAJX;AAKEC,MAAAA,MAAM,EAAE;AALV,KAD4B,EAQ5B;AACEJ,MAAAA,KAAK,EAAE,cADT;AAEEC,MAAAA,QAAQ,EAAE,sBAFZ;AAGEC,MAAAA,KAAK,EAAE,uBAHT;AAIEC,MAAAA,OAAO,EAAE,yCAJX;AAKEC,MAAAA,MAAM,EAAE;AALV,KAR4B,CAA9B;;AAgBAd,qBACGe,OADH,CACWC,iBADX,EAEGC,GAFH,CAEO,eAFP,EAGGC,GAHH,CAGO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjBrB,MAAAA,MAAM,CAACoB,GAAD,CAAN,CAAYE,EAAZ,CAAeC,EAAf;AACAvB,MAAAA,MAAM,CAACqB,GAAD,CAAN,CAAYC,EAAZ,CAAeE,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACAzB,MAAAA,MAAM,CAACqB,GAAG,CAACK,IAAL,CAAN,CAAiBJ,EAAjB,CAAoBE,IAApB,CAAyBG,QAAzB,CACE,SADF,EAEE,2BAFF;AAIA3B,MAAAA,MAAM,CAACqB,GAAG,CAACK,IAAL,CAAN,CAAiBJ,EAAjB,CAAoBE,IAApB,CAAyBG,QAAzB,CAAkC,MAAlC;AACAnB,MAAAA,IAAI;AACL,KAZH;AAaD,GA9BC,CAAF;AA+BD,CAtCD;;eAwCeJ,W","sourcesContent":["import chai from \"chai\";\r\nimport { beforeEach, afterEach } from \"mocha\";\r\nimport chaiHttp from \"chai-http\";\r\nimport server from \"../../index\";\r\nimport Article from \"../../models/Article\";\r\n\r\nconst { expect } = chai;\r\nchai.use(chaiHttp);\r\n\r\nconst getArticles = () => {\r\n  beforeEach(async () => {\r\n    await Article.deleteMany({});\r\n  });\r\n  afterEach(async () => {\r\n    await Article.deleteMany({});\r\n  });\r\n  it(\"shoult return 200 status if article fetched successfully \", (done) => {\r\n    Article.collection.insertMany([\r\n      {\r\n        title: \"first title\",\r\n        subtitle: \"first subtitle ever\",\r\n        image: \"images/og-default.jpg\",\r\n        content: \"this is content for testing article api\",\r\n        author: \"gilbert\",\r\n      },\r\n      {\r\n        title: \"second title\",\r\n        subtitle: \"second subtitle ever\",\r\n        image: \"images/og-default.jpg\",\r\n        content: \"this is content for testing article api\",\r\n        author: \"elnino\",\r\n      },\r\n    ]);\r\n    chai\r\n      .request(server)\r\n      .get(\"/api/articles\")\r\n      .end((err, res) => {\r\n        expect(err).to.be.null;\r\n        expect(res).to.have.status(200);\r\n        expect(res.body).to.have.property(\r\n          \"message\",\r\n          \"post fetched successfully\"\r\n        );\r\n        expect(res.body).to.have.property(\"data\");\r\n        done();\r\n      });\r\n  });\r\n};\r\n\r\nexport default getArticles;\r\n"],"file":"getArticle.spec.js"}