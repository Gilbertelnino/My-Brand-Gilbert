{"version":3,"sources":["../../server/controllers/ProfileControllers.js"],"names":["ProfileControllers","req","res","Profile","find","profile","length","body","error","details","message","firstName","lastName","email","password","gender","jobRole","department","address","save","saveProfile","findOne","_id","params","id","updatedProfile","deleteOne","oneProfile"],"mappings":"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","sourcesContent":["import Profile from \"../models/Profile\";\r\nimport { profileValidation } from \"../validator/profileValidation\";\r\nimport { onSuccess, onError } from \"../utils/response\";\r\n\r\nexport class ProfileControllers {\r\n  // get profile\r\n  static async getProfile(req, res) {\r\n    try {\r\n      const profile = await Profile.find();\r\n\r\n      if (profile.length === 0) {\r\n        return onError(res, 404, \"No profile Yet!\");\r\n      } else {\r\n        return onSuccess(res, 200, \"Profile fetched successfully\", profile);\r\n      }\r\n    } catch (error) {\r\n      return onError(res, 500, \"Internal Server Error\");\r\n    }\r\n  }\r\n\r\n  // create a profile\r\n  static async createProfile(req, res) {\r\n    const { error } = profileValidation(req.body);\r\n    if (error) return onError(res, 400, error.details[0].message);\r\n    const profile = new Profile({\r\n      firstName: req.body.firstName,\r\n      lastName: req.body.lastName,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n      gender: req.body.gender,\r\n      jobRole: req.body.jobRole,\r\n      department: req.body.department,\r\n      address: req.body.address,\r\n    });\r\n\r\n    try {\r\n      const saveProfile = await profile.save();\r\n      return onSuccess(res, 201, \"Profile created successfully\", saveProfile);\r\n    } catch (err) {\r\n      return onError(res, 500, \"internal server error\");\r\n    }\r\n  }\r\n\r\n  // update profile\r\n  static async updateProfile(req, res) {\r\n    try {\r\n      const profile = await Profile.findOne({ _id: req.params.id });\r\n      if (!profile) {\r\n        return onError(\r\n          res,\r\n          404,\r\n          \"profile you are trying to update doesn't exists\"\r\n        );\r\n      } else {\r\n        profile.firstName = req.body.firstName;\r\n        profile.lastName = req.body.lastName;\r\n        profile.email = req.body.email;\r\n        profile.password = req.body.password;\r\n        profile.gender = req.body.gender;\r\n        profile.jobRole = req.body.jobRole;\r\n        profile.department = req.body.department;\r\n        profile.address = req.body.address;\r\n        const updatedProfile = await profile.save();\r\n        return onSuccess(\r\n          res,\r\n          200,\r\n          \"profile updated successfully\",\r\n          updatedProfile\r\n        );\r\n      }\r\n    } catch (error) {\r\n      return onError(res, 500, \"internal server error\");\r\n    }\r\n  }\r\n  // delete profile\r\n  static async deleteProfile(req, res) {\r\n    try {\r\n      const profile = await Profile.findOne({ _id: req.params.id });\r\n      if (!profile)\r\n        return onError(\r\n          res,\r\n          404,\r\n          \"profile you are trying to delete doesn't exist\"\r\n        );\r\n      else {\r\n        const oneProfile = await Profile.deleteOne({ _id: req.params.id });\r\n        return onSuccess(res, 200, \"profile deleted successfully\", oneProfile);\r\n      }\r\n    } catch (error) {\r\n      return onError(res, 500, \"Internal Server Error\");\r\n    }\r\n  }\r\n}\r\n"],"file":"ProfileControllers.js"}